{"version":3,"sources":["webpack:///src/views/pages/Tables/index.vue","webpack:///./src/views/pages/Tables/index.vue?7b50","webpack:///./src/views/pages/Tables/index.vue"],"names":["Tables","getList","undefined","status","_this","this","items","total","val","_this2","clearValidate","_this3","temp","_iteratorNormalCompletion","v","_step","value","_this4","resetTemp","_this5","Date","pages_Tables","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","span","placeholder","$t","nativeOn","keyup","$event","_k","keyCode","key","handleFilter","model","listQuery","callback","$$v","$set","expression","_v","offset","on","change","clearable","_l","item","label","staticStyle","width","type","icon","click","_s","handleCreate","tableKey","showReviewer","directives","name","rawName","data","list","border","fit","highlight-current-row","align","scopedSlots","_u","fn","scope","row","id","_f","timestamp","min-width","handleEdit","title","author","color","reviewer","_e","importance","n","icon-class","class-name","pageviews","size","hadnleModifyStatus","current-page","page","page-sizes","page-size","layout","size-change","handleSizeChange","current-change","handleCurrentChange","update:currentPage","textMap","dialogStatus","visible","dialogFormVisible","update:visible","ref","rules","label-width","formLabelWidth","prop","margin-top","colors","max","slot","createData","updateData","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/14.fab35b75cdde42125021.js","sourcesContent":["<template>\r\n    <div class=\"app-container\">\r\n            <div class=\"filter-container\">\r\n                <el-col :span=\"4\">\r\n                    <el-input @keyup.enter.native=\"handleFilter\"  class=\"filter-item\" :placeholder=\"$t('table.SearchTitle')\" v-model=\"listQuery.title\"></el-input>\r\n                </el-col>\r\n                <el-col :span=\"3\" :offset=\"1\" @change='handleFilter'>\r\n                     <el-select clearable v-model=\"listQuery.importance\" :placeholder=\"$t('table.Importance')\">\r\n                        <el-option v-for=\"item in importanceOptions\" :key=\"item\" :label=\"item\" :value=\"item\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </el-col>\r\n                <el-col :span=\"5\" :offset=\"1\" style=\"width:300px\">\r\n                    <el-button type=\"primary\" icon=\"el-icon-search\"  @click=\"handleFilter\">{{$t('table.Search')}}</el-button>\r\n                     <el-button type=\"primary\" icon=\"el-icon-edit\" @click=\"handleCreate\">{{$t('table.AddTo')}}</el-button>\r\n                </el-col>\r\n                 <el-checkbox class=\"filter-item\" @change=\"tableKey=tableKey+1\" v-model=\"showReviewer\" >{{$t('table.Auditor')}}</el-checkbox>\r\n            </div>\r\n\r\n    <el-table :data=\"list\" :key='tableKey' v-loading=\"listLoading\"  border fit highlight-current-row\r\n      style=\"width: 100%\">\r\n       <el-table-column align=\"center\" label=\"ID\" width=\"65\">\r\n            <template slot-scope=\"scope\">\r\n            <span>{{scope.row.id}}</span>\r\n            </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column width=\"180px\" align=\"center\" :label=\"$t('table.Date')\">\r\n            <template slot-scope=\"scope\">\r\n            <span>{{scope.row.timestamp | parseTime('{y}-{m}-{d} {h}:{i}')}}</span>\r\n            </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column min-width=\"300px\" :label=\"$t('table.Title')\">\r\n            <template slot-scope=\"scope\">\r\n            <span class=\"link-type\" @click=\"handleEdit(scope.row)\">{{scope.row.title}}</span>\r\n            </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column width=\"110px\" align=\"center\" :label=\"$t('table.Author')\">\r\n            <template slot-scope=\"scope\">\r\n            <span>{{scope.row.author}}</span>\r\n            </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column width=\"110px\" v-if='showReviewer' align=\"center\" :label=\"$t('table.Auditor')\">\r\n          <template slot-scope=\"scope\">\r\n            <span style='color:red;'>{{scope.row.reviewer}}</span>\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column width=\"100px\" :label=\"$t('table.Importance')\">\r\n            <template slot-scope=\"scope\">\r\n            <svg-icon v-for=\"n in +scope.row.importance\" icon-class=\"star\" class=\"icon-star\" :key=\"n\"></svg-icon>\r\n            </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column class-name=\"status-col\" :label=\"$t('table.Status')\" width=\"110\">\r\n            <template slot-scope=\"scope\">\r\n            <el-tag :type=\"scope.row.status | statusFilter\">{{scope.row.status}}</el-tag>\r\n            </template>\r\n        </el-table-column> \r\n      <el-table-column align=\"center\" :label=\"$t('table.Readings')\" width=\"95\">\r\n        <template slot-scope=\"scope\">\r\n          <span v-if=\"scope.row.pageviews\" >{{scope.row.pageviews}}</span>\r\n          <span v-else>0</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" :label=\"$t('table.Operation')\" width=\"230\" class-name=\"small-padding fixed-width\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" size=\"mini\" @click.native=\"handleEdit(scope.row)\">{{$t('table.Edit')}}</el-button>\r\n          <el-button v-if=\"scope.row.status != 'published'\" size=\"mini\" type=\"success\" @click.native=\"hadnleModifyStatus(scope.row,'published')\">{{$t('table.Release')}}\r\n          </el-button>\r\n          <el-button size=\"mini\" v-if=\"scope.row.status!='draft'\" @click.native=\"hadnleModifyStatus(scope.row,'draft')\">{{$t('table.Draft')}}\r\n          </el-button>\r\n          <el-button  v-if=\"scope.row.status!='deleted'\" size=\"mini\" type=\"danger\" @click.native=\"hadnleModifyStatus(scope.row,'deleted')\">{{$t('table.Remove')}}\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>   \r\n\r\n    <div class=\"pagination-container\">\r\n        <el-pagination\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page.sync=\"listQuery.page\"\r\n        :page-sizes=\"[20,40,60]\"\r\n        :page-size=\"100\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\">\r\n        </el-pagination>\r\n    </div>\r\n    <!-- 打开编辑页面 -->\r\n    <el-dialog :title=\"textMap[dialogStatus]\" :visible.sync=\"dialogFormVisible\">\r\n        <el-form :model=\"temp\" :rules=\"rules\" ref=\"ruleForm\" :label-width=\"formLabelWidth\" class=\"demo-ruleForm\">\r\n\r\n            <el-form-item label=\"标题\" prop=\"title\">\r\n              <el-input type=\"text\" v-model=\"temp.title\"></el-input>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"状态\">\r\n              <el-select  v-model=\"temp.status\" placeholder=\"选择状态\">\r\n                <el-option v-for=\"item in  statusOptions\" :key=\"item\" :label=\"item\" :value=\"item\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"重要性\">\r\n              <el-rate\r\n              style=\"margin-top:10px;\"\r\n                v-model=\"temp.importance\"\r\n                :colors=\"['#99A9BF', '#F7BA2A', '#FF9900']\" \r\n                :max=\"3\">\r\n              </el-rate>\r\n            </el-form-item>\r\n\r\n        </el-form>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n          <el-button v-if=\"dialogStatus=='create'\" type=\"primary\" @click=\"createData\">确 定</el-button>\r\n          <el-button v-else type=\"primary\" @click=\"updateData\">确 定</el-button>\r\n        </div>\r\n      </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { fetchList, createArticle, updateArticle } from '@/api/article'\r\n\r\nexport default {\r\n  name: 'complex',\r\n  created() {\r\n    this.getList()\r\n  },\r\n  data() {\r\n    return {\r\n      tableKey: 0,\r\n      list: null,\r\n      total: null,\r\n      listLoading: true,\r\n      listQuery: {\r\n        page: 1,\r\n        limit: 20,\r\n        importance: undefined,\r\n        title: undefined,\r\n        type: undefined,\r\n        sort: '+id'\r\n      },\r\n      importanceOptions: [1, 2, 3],\r\n      statusOptions: ['published', 'draft', 'deleted'],\r\n      textMap: {\r\n        update: '编辑',\r\n        create: '创建'\r\n      },\r\n      dialogStatus: '',\r\n      dialogFormVisible: false,\r\n      temp: {\r\n        id: undefined,\r\n        title: '',\r\n        importance: null,\r\n        status: ''\r\n      },\r\n      rules: {\r\n        title: [{ required: true, message: '标题不能为空', trigger: 'blur' }]\r\n      },\r\n      formLabelWidth: '120px',\r\n      showReviewer: false\r\n    }\r\n  },\r\n  filters: {\r\n    statusFilter(status) {\r\n      const statusMap = {\r\n        published: 'success',\r\n        draft: 'info',\r\n        deleted: 'danger'\r\n      }\r\n      return statusMap[status]\r\n    }\r\n  },\r\n  methods: {\r\n    getList() {\r\n      this.listLoading = true\r\n      fetchList(this.listQuery).then(response => {\r\n        this.list = response.data.items\r\n        this.total = response.data.total\r\n        this.listLoading = false\r\n      })\r\n    },\r\n    handleFilter() {\r\n      this.listQuery.page = 1\r\n      this.getList()\r\n    },\r\n    hadnleModifyStatus(row, status) {\r\n      this.$message({\r\n        type: 'success',\r\n        message: '操作成功'\r\n      })\r\n\r\n      row.status = status\r\n    },\r\n    handleSizeChange(val) {\r\n      this.listQuery.limit = val\r\n      this.getList()\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.listQuery.page = val\r\n      this.getList()\r\n    },\r\n    // 编辑\r\n    handleEdit(val) {\r\n      this.dialogFormVisible = true\r\n      this.dialogStatus = 'update'\r\n\r\n      this.temp = Object.assign({}, val) // 这样就不会共用同一个对象\r\n      this.$nextTick(() => {\r\n        this.$refs['ruleForm'].clearValidate()\r\n      })\r\n    },\r\n    updateData() {\r\n      this.$refs['ruleForm'].validate((valid) => {\r\n        if (valid) {\r\n          this.dialogFormVisible = false\r\n          const tempData = Object.assign({}, this.temp)\r\n          updateArticle(tempData).then(() => {\r\n            for (const v of this.list) {\r\n              if (v.id === this.temp.id) {\r\n                const index = this.list.indexOf(v)\r\n                this.list.splice(index, 1, this.temp)\r\n                break\r\n              }\r\n            }\r\n            this.dialogFormVisible = false\r\n            this.$message({\r\n              message: '更新成功',\r\n              type: 'success',\r\n              duration: 2000\r\n            })\r\n          })\r\n        }\r\n      })\r\n    },\r\n    // 创建\r\n    handleCreate() {\r\n      this.resetTemp()\r\n      this.dialogFormVisible = true\r\n      this.dialogStatus = 'create'\r\n      this.$nextTick(() => {\r\n        this.$refs['dataForm'].clearValidate()\r\n      })\r\n    },\r\n    createData() {\r\n      this.$refs['ruleForm'].validate((valid) => {\r\n        if (valid) {\r\n          this.temp.id = parseInt(Math.random() * 100) + 101 // 模拟数据id\r\n          this.temp.author = 'admin' // 因为需要作者\r\n          this.temp.timestamp = new Date()\r\n          createArticle(this.temp).then(res => {\r\n            this.list.unshift(this.temp) // 添加到数组的最前面\r\n            this.dialogFormVisible = false\r\n            this.$message({\r\n              message: '创建成功',\r\n              type: 'success',\r\n              duration: 2000\r\n            })\r\n          })\r\n        }\r\n      })\r\n    },\r\n    // 重置\r\n    resetTemp() {\r\n      this.temp = {\r\n        id: undefined,\r\n        title: '',\r\n        importance: null,\r\n        status: ''\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.demo-ruleForm{\r\n  width: 400px;\r\n}\r\n.filter-item{\r\n  line-height: 36px;\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n  label{\r\n    font-weight:700\r\n  }\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/pages/Tables/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('div',{staticClass:\"filter-container\"},[_c('el-col',{attrs:{\"span\":4}},[_c('el-input',{staticClass:\"filter-item\",attrs:{\"placeholder\":_vm.$t('table.SearchTitle')},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleFilter($event)}},model:{value:(_vm.listQuery.title),callback:function ($$v) {_vm.$set(_vm.listQuery, \"title\", $$v)},expression:\"listQuery.title\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":3,\"offset\":1},on:{\"change\":_vm.handleFilter}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":_vm.$t('table.Importance')},model:{value:(_vm.listQuery.importance),callback:function ($$v) {_vm.$set(_vm.listQuery, \"importance\", $$v)},expression:\"listQuery.importance\"}},_vm._l((_vm.importanceOptions),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}))],1),_vm._v(\" \"),_c('el-col',{staticStyle:{\"width\":\"300px\"},attrs:{\"span\":5,\"offset\":1}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.handleFilter}},[_vm._v(_vm._s(_vm.$t('table.Search')))]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":_vm.handleCreate}},[_vm._v(_vm._s(_vm.$t('table.AddTo')))])],1),_vm._v(\" \"),_c('el-checkbox',{staticClass:\"filter-item\",on:{\"change\":function($event){_vm.tableKey=_vm.tableKey+1}},model:{value:(_vm.showReviewer),callback:function ($$v) {_vm.showReviewer=$$v},expression:\"showReviewer\"}},[_vm._v(_vm._s(_vm.$t('table.Auditor')))])],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],key:_vm.tableKey,staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list,\"border\":\"\",\"fit\":\"\",\"highlight-current-row\":\"\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"ID\",\"width\":\"65\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.id))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"180px\",\"align\":\"center\",\"label\":_vm.$t('table.Date')},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm._f(\"parseTime\")(scope.row.timestamp,'{y}-{m}-{d} {h}:{i}')))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"300px\",\"label\":_vm.$t('table.Title')},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"link-type\",on:{\"click\":function($event){_vm.handleEdit(scope.row)}}},[_vm._v(_vm._s(scope.row.title))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"110px\",\"align\":\"center\",\"label\":_vm.$t('table.Author')},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.author))])]}}])}),_vm._v(\" \"),(_vm.showReviewer)?_c('el-table-column',{attrs:{\"width\":\"110px\",\"align\":\"center\",\"label\":_vm.$t('table.Auditor')},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(_vm._s(scope.row.reviewer))])]}}])}):_vm._e(),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"100px\",\"label\":_vm.$t('table.Importance')},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((+scope.row.importance),function(n){return _c('svg-icon',{key:n,staticClass:\"icon-star\",attrs:{\"icon-class\":\"star\"}})})}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"class-name\":\"status-col\",\"label\":_vm.$t('table.Status'),\"width\":\"110\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":_vm._f(\"statusFilter\")(scope.row.status)}},[_vm._v(_vm._s(scope.row.status))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":_vm.$t('table.Readings'),\"width\":\"95\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.pageviews)?_c('span',[_vm._v(_vm._s(scope.row.pageviews))]):_c('span',[_vm._v(\"0\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":_vm.$t('table.Operation'),\"width\":\"230\",\"class-name\":\"small-padding fixed-width\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},nativeOn:{\"click\":function($event){_vm.handleEdit(scope.row)}}},[_vm._v(_vm._s(_vm.$t('table.Edit')))]),_vm._v(\" \"),(scope.row.status != 'published')?_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"success\"},nativeOn:{\"click\":function($event){_vm.hadnleModifyStatus(scope.row,'published')}}},[_vm._v(_vm._s(_vm.$t('table.Release'))+\"\\n      \")]):_vm._e(),_vm._v(\" \"),(scope.row.status!='draft')?_c('el-button',{attrs:{\"size\":\"mini\"},nativeOn:{\"click\":function($event){_vm.hadnleModifyStatus(scope.row,'draft')}}},[_vm._v(_vm._s(_vm.$t('table.Draft'))+\"\\n      \")]):_vm._e(),_vm._v(\" \"),(scope.row.status!='deleted')?_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},nativeOn:{\"click\":function($event){_vm.hadnleModifyStatus(scope.row,'deleted')}}},[_vm._v(_vm._s(_vm.$t('table.Remove'))+\"\\n      \")]):_vm._e()]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination-container\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.listQuery.page,\"page-sizes\":[20,40,60],\"page-size\":100,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.$set(_vm.listQuery, \"page\", $event)}}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.textMap[_vm.dialogStatus],\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.temp,\"rules\":_vm.rules,\"label-width\":_vm.formLabelWidth}},[_c('el-form-item',{attrs:{\"label\":\"标题\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.temp.title),callback:function ($$v) {_vm.$set(_vm.temp, \"title\", $$v)},expression:\"temp.title\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"状态\"}},[_c('el-select',{attrs:{\"placeholder\":\"选择状态\"},model:{value:(_vm.temp.status),callback:function ($$v) {_vm.$set(_vm.temp, \"status\", $$v)},expression:\"temp.status\"}},_vm._l((_vm.statusOptions),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"重要性\"}},[_c('el-rate',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"colors\":['#99A9BF', '#F7BA2A', '#FF9900'],\"max\":3},model:{value:(_vm.temp.importance),callback:function ($$v) {_vm.$set(_vm.temp, \"importance\", $$v)},expression:\"temp.importance\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),(_vm.dialogStatus=='create')?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.createData}},[_vm._v(\"确 定\")]):_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.updateData}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4e08538c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/pages/Tables/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4e08538c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4e08538c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4e08538c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4e08538c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/pages/Tables/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}